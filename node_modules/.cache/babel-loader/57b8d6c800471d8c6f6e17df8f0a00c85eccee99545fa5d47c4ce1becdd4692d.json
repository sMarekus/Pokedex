{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import axios from'axios';import pokemonColors from'../utils/pokemonColors';import{useNavigate}from'react-router-dom';import{ProgressBar}from'primereact/progressbar';import{Button}from'primereact/button';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function PokemonDetail(){const navigate=useNavigate();const{name}=useParams();const[pokemon,setPokemon]=useState(null);const[originalColorName,setOriginalColorName]=useState(\"\");const[color,setColor]=useState(\"grey\");const[flavorText,setFlavorText]=useState('');useEffect(()=>{const fetchPokemonDetails=async()=>{try{const response=await axios.get(\"https://pokeapi.co/api/v2/pokemon/\".concat(name));const{data}=response;setPokemon(data);const speciesResponse=await axios.get(data.species.url);const speciesData=speciesResponse.data;const flavorText=speciesData.flavor_text_entries.find(entry=>entry.language.name==='en'&&entry.version.name==='ruby').flavor_text;setFlavorText(flavorText.replace(/[\\n\\f]/g,' '));const fetchedColor=speciesData.color.name;setOriginalColorName(fetchedColor);setColor(pokemonColors[fetchedColor]||\"grey\");}catch(error){console.error(\"Failed to fetch pokemon details: \",error);setPokemon(null);setColor(\"grey\");setFlavorText('');}};fetchPokemonDetails();},[name]);if(!pokemon)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});const backgroundColor={backgroundColor:color};const borderColor={borderColor:color};const navigateToHome=()=>{navigate('/');};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex h-64\",style:backgroundColor,children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto pt-8\",children:/*#__PURE__*/_jsx(Button,{icon:\"pi pi-arrow-left\",pt:{root:\"bg-white border-none rounded-full focus:border-none focus:shadow-none\"},style:{color:color},onClick:navigateToHome})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex bg-white rounded-t-3xl -mt-7 pb-20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-40 w-40 bg-white flex justify-center items-center -mt-20 rounded-full border-4\",style:borderColor,children:/*#__PURE__*/_jsx(\"img\",{src:pokemon.sprites.front_default,alt:pokemon.name})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex pt-16 gap-x-20\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/2 flex flex-col gap-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-5xl font-orbitron capitalize text-[#0C0C0C]\",children:pokemon.name}),/*#__PURE__*/_jsx(\"p\",{className:\"font-sans text-gray-600\",children:flavorText})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/2 grid grid-cols-2 gap-8 flex-wrap\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 flex flex-col justify-center items-center h-32 rounded-3xl p-8\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-center uppercase text-gray-600\",children:\"Weight\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center text-3xl text-[#0C0C0C]\",children:[pokemon.weight,\"kg\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 flex flex-col justify-center items-center h-32 rounded-3xl p-8\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-center uppercase text-gray-600\",children:\"Height\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center text-3xl text-[#0C0C0C]\",children:[pokemon.height,\"m\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 flex flex-col justify-center items-center h-32 rounded-3xl p-8\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-center uppercase text-gray-600\",children:\"Base exp\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-3xl text-[#0C0C0C]\",children:pokemon.base_experience})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 flex flex-col justify-center items-center h-32 rounded-3xl p-8\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-center uppercase text-gray-600\",children:\"Color\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-3xl text-[#0C0C0C] capitalize\",children:originalColorName})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col gap-y-3 pt-8\",children:pokemon.stats.map(stat=>{const statValue=Math.round(stat.base_stat/255*100);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-mb-2\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-gray-600\",children:stat.stat.name.toUpperCase()}),/*#__PURE__*/_jsx(ProgressBar,{value:statValue,showValue:true,color:color,className:\"bg-gray-100\"})]},stat.stat.name);})})]})})]});}export default PokemonDetail;","map":{"version":3,"names":["React","useEffect","useState","useParams","axios","pokemonColors","useNavigate","ProgressBar","Button","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PokemonDetail","navigate","name","pokemon","setPokemon","originalColorName","setOriginalColorName","color","setColor","flavorText","setFlavorText","fetchPokemonDetails","response","get","concat","data","speciesResponse","species","url","speciesData","flavor_text_entries","find","entry","language","version","flavor_text","replace","fetchedColor","error","console","children","backgroundColor","borderColor","navigateToHome","className","style","icon","pt","root","onClick","src","sprites","front_default","alt","weight","height","base_experience","stats","map","stat","statValue","Math","round","base_stat","toUpperCase","value","showValue"],"sources":["C:/Users/marek/School/Semester 4/WEB/Assignments/2 - Pokedex in React/pokedex/src/components/PokemonDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport pokemonColors from '../utils/pokemonColors';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport { ProgressBar } from 'primereact/progressbar';\r\nimport { Button } from 'primereact/button';\r\n\r\nfunction PokemonDetail() {\r\n    const navigate = useNavigate();\r\n    const { name } = useParams();\r\n    const [pokemon, setPokemon] = useState(null);\r\n    const [originalColorName, setOriginalColorName] = useState(\"\");\r\n    const [color, setColor] = useState(\"grey\");\r\n    const [flavorText, setFlavorText] = useState('');\r\n\r\n    useEffect(() => {\r\n        const fetchPokemonDetails = async () => {\r\n            try {\r\n                const response = await axios.get(`https://pokeapi.co/api/v2/pokemon/${name}`)\r\n                const { data } = response;\r\n                setPokemon(data);\r\n\r\n                const speciesResponse = await axios.get(data.species.url);\r\n                const speciesData = speciesResponse.data;\r\n\r\n                const flavorText = speciesData.flavor_text_entries.find(entry => entry.language.name === 'en' && entry.version.name === 'ruby').flavor_text;\r\n\r\n                setFlavorText(flavorText.replace(/[\\n\\f]/g, ' '));\r\n\r\n                const fetchedColor = speciesData.color.name;\r\n                setOriginalColorName(fetchedColor);\r\n                setColor(pokemonColors[fetchedColor] || \"grey\");\r\n            } catch (error) {\r\n                console.error(\"Failed to fetch pokemon details: \", error);\r\n                setPokemon(null);\r\n                setColor(\"grey\");\r\n                setFlavorText('');\r\n            }\r\n        };\r\n\r\n        fetchPokemonDetails();\r\n    }, [name]);\r\n\r\n    if (!pokemon) return <div>Loading...</div>;\r\n\r\n    const backgroundColor = {\r\n        backgroundColor: color\r\n    };\r\n\r\n    const borderColor = {\r\n        borderColor: color\r\n    }\r\n\r\n    const navigateToHome = () => {\r\n        navigate('/');\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"flex h-64\" style={backgroundColor}>\r\n                <div className=\"container mx-auto pt-8\">\r\n                    <Button icon=\"pi pi-arrow-left\"\r\n                    pt={{\r\n                        root: \"bg-white border-none rounded-full focus:border-none focus:shadow-none\",\r\n                    }}\r\n                    style={{ color: color }}\r\n                    onClick={ navigateToHome }\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"flex bg-white rounded-t-3xl -mt-7 pb-20\">\r\n                <div className=\"container mx-auto\">\r\n                    <div className=\"flex justify-center\">\r\n                        <div className=\"h-40 w-40 bg-white flex justify-center items-center -mt-20 rounded-full border-4\" style={borderColor}>\r\n                            <img src={pokemon.sprites.front_default} alt={pokemon.name} />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex pt-16 gap-x-20\">\r\n                        <div className=\"w-1/2 flex flex-col gap-4\">\r\n                            <h1 className=\"text-5xl font-orbitron capitalize text-[#0C0C0C]\">{pokemon.name}</h1>\r\n                            <p className=\"font-sans text-gray-600\">{flavorText}</p>\r\n                        </div>\r\n                        <div className=\"w-1/2 grid grid-cols-2 gap-8 flex-wrap\">\r\n                            <div className=\"bg-gray-100 flex flex-col justify-center items-center h-32 rounded-3xl p-8\">\r\n                                <h5 className=\"text-center uppercase text-gray-600\">Weight</h5>\r\n                                <p className=\"text-center text-3xl text-[#0C0C0C]\">{pokemon.weight}kg</p>\r\n                            </div>\r\n                            <div className=\"bg-gray-100 flex flex-col justify-center items-center h-32 rounded-3xl p-8\">\r\n                                <h5 className=\"text-center uppercase text-gray-600\">Height</h5>\r\n                                <p className=\"text-center text-3xl text-[#0C0C0C]\">{pokemon.height}m</p>\r\n                            </div>\r\n                            <div className=\"bg-gray-100 flex flex-col justify-center items-center h-32 rounded-3xl p-8\">\r\n                                <h5 className=\"text-center uppercase text-gray-600\">Base exp</h5>\r\n                                <p className=\"text-center text-3xl text-[#0C0C0C]\">{pokemon.base_experience}</p>\r\n                            </div>\r\n                            <div className=\"bg-gray-100 flex flex-col justify-center items-center h-32 rounded-3xl p-8\">\r\n                                <h5 className=\"text-center uppercase text-gray-600\">Color</h5>\r\n                                <p className=\"text-center text-3xl text-[#0C0C0C] capitalize\">{originalColorName}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-col gap-y-3 pt-8\">\r\n                        {pokemon.stats.map((stat) => {\r\n                            const statValue = Math.round((stat.base_stat / 255) * 100);\r\n\r\n                            return (\r\n                                <div key={stat.stat.name} className=\"p-mb-2\">\r\n                                    <h5 className=\"text-gray-600\">{stat.stat.name.toUpperCase()}</h5>\r\n                                    <ProgressBar value={statValue} showValue={true} color={color} className=\"bg-gray-100\" />\r\n                                </div>\r\n                            );\r\n                        })} \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default PokemonDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}